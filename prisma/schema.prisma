generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  name      String?
  email     String   @unique
  userId    String   @id
  credits   Int      @default(1)
  createdAt DateTime @default(now())

  videos Video[]
}

model Video {
  videoId     String   @id
  createdAt   DateTime @default(now())
  prompt      String
  processing  Boolean
  failed      Boolean? @default(false)
  content     String?
  imagePrompt String[]
  imageUrl    String[]
  audio       String?
  videoUrl    String?
  caption     Json?
  duration    Int?
  thumbnail   String?

  user   User?   @relation(fields: [userId], references: [userId])
  userId String?
}
